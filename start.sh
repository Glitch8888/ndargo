bash <(echo 'IyEvYmluL2Jhc2ggIApleHBvcnQgVVVJRD0ke1VVSUQ6LSc4NjM5MWY2ZS04N2NhLTQ2NjUtODQ0NS02YThkNDEzYzdmYTknfQpleHBvcnQgQVJHT19BVVRIPSR7QVJHT19BVVRIOi0nJ30KZXhwb3J0IENGSVA9JHtDRklQOi0nd3d3LnZpc2EuY29tLnR3J30KZXhwb3J0IE5BTUU9JHtOQU1FOi0nYXBwLmtveWViLmNvbSd9CmV4cG9ydCBBUkdPX1BPUlQ9JHtBUkdPX1BPUlQ6LSc0NDMnfQoKZXhwb3J0IENGUE9SVD0ke0NGUE9SVDotJzQ0Myd9CmV4cG9ydCBBUkdPX0RPTUFJTj0ke0FSR09fRE9NQUlOOi0nJ30KZXhwb3J0IEZJTEVfUEFUSD0ke0ZJTEVfUEFUSDotJ3dvcmxkJ30KZXhwb3J0IFNJTkdfQk9YX1VSTD0iaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3dlaXNoYW9hYWkvc3Nzc3MvbWFpbi9zaW5nLWJveCIKZXhwb3J0IENMT1VERkxBUkVEX1VSTD0iaHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkZmxhcmUvY2xvdWRmbGFyZWQvcmVsZWFzZXMvbGF0ZXN0L2Rvd25sb2FkL2Nsb3VkZmxhcmVkLWxpbnV4LWFtZDY0IgoKbWtkaXIgLXAgIiR7RklMRV9QQVRIfSIKY2QgIiR7RklMRV9QQVRIfSIgfHwgZXhpdCAxCgpybSAtZiBib290LmxvZyB0dW5uZWwuanNvbiB0dW5uZWwueW1sCgpjdXJsIC1zTG8gMSAiJFNJTkdfQk9YX1VSTCIKY3VybCAtc0xvIDIgIiRDTE9VREZMQVJFRF9VUkwiCgpjaG1vZCAreCAxCmNobW9kICt4IDIKCmNhdCA+IGNvbmZpZy5qc29uIDw8IEVPRgp7CiAgICAibG9nIjogewogICAgICAgICJkaXNhYmxlZCI6IHRydWUsCiAgICAgICAgImxldmVsIjogImluZm8iLAogICAgICAgICJ0aW1lc3RhbXAiOiB0cnVlCiAgICB9LAogICAgImRucyI6IHsKICAgICAgICAic2VydmVycyI6IFsKICAgICAgICB7CiAgICAgICAgICAidGFnIjogImdvb2dsZSIsCiAgICAgICAgICAiYWRkcmVzcyI6ICJ0bHM6Ly84LjguOC44IgogICAgICAgIH0KICAgICAgXQogICAgfSwKICAgICJpbmJvdW5kcyI6IFsKICAgIHsKICAgICAgInRhZyI6ICJ2bWVzcy13cy1pbiIsCiAgICAgICJ0eXBlIjogInZtZXNzIiwKICAgICAgImxpc3RlbiI6ICI6OiIsCiAgICAgICJsaXN0ZW5fcG9ydCI6ICR7QVJHT19QT1JUfSwKICAgICAgICAidXNlcnMiOiBbCiAgICAgICAgewogICAgICAgICAgInV1aWQiOiAiJHtVVUlEfSIKICAgICAgICB9CiAgICAgIF0sCiAgICAgICJ0cmFuc3BvcnQiOiB7CiAgICAgICAgInR5cGUiOiAid3MiLAogICAgICAgICJwYXRoIjogIi9raW5nIiwKICAgICAgICAiZWFybHlfZGF0YV9oZWFkZXJfbmFtZSI6ICJTZWMtV2ViU29ja2V0LVByb3RvY29sIgogICAgICB9CiAgICB9CiAgIF0sCiAgIm91dGJvdW5kcyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZGlyZWN0IiwKICAgICAgInRhZyI6ICJkaXJlY3QiCiAgICB9LAogICAgewogICAgICAidHlwZSI6ICJibG9jayIsCiAgICAgICJ0YWciOiAiYmxvY2siCiAgICB9CiAgXSwKICAicm91dGUiOiB7CiAgICAiZmluYWwiOiAiZGlyZWN0IgogIH0KfQpFT0YKCmlmIFtbIC1uICIkQVJHT19BVVRIIiAmJiAtbiAiJEFSR09fRE9NQUlOIiBdXTsgdGhlbgogICAgaWYgW1sgIiRBUkdPX0FVVEgiID1+IFR1bm5lbFNlY3JldCBdXTsgdGhlbgogICAgICAgIGVjaG8gIiRBUkdPX0FVVEgiID4gdHVubmVsLmpzb24KICAgICAgICBjYXQgPiB0dW5uZWwueW1sIDw8IEVPRgp0dW5uZWw6ICQoY3V0IC1kXCIgLWYxMiA8PDwgIiRBUkdPX0FVVEgiKQpjcmVkZW50aWFscy1maWxlOiB0dW5uZWwuanNvbgpwcm90b2NvbDogaHR0cDIKCmluZ3Jlc3M6CiAgLSBob3N0bmFtZTogJEFSR09fRE9NQUlOCiAgICBzZXJ2aWNlOiBodHRwOi8vbG9jYWxob3N0OiRBUkdPX1BPUlQKICAgIG9yaWdpblJlcXVlc3Q6CiAgICAgIG5vVExTVmVyaWZ5OiB0cnVlCiAgLSBzZXJ2aWNlOiBodHRwX3N0YXR1czo0MDQKRU9GCiAgICBmaQpmaQoKLi8xIHJ1biAtYyBjb25maWcuanNvbiA+L2Rldi9udWxsIDI+JjEgJgpzbGVlcCAyCgppZiAhIHBncmVwIC1mICIuLzEgcnVuIiA+L2Rldi9udWxsOyB0aGVuCiAgICBleGl0IDEKZmkKCnBraWxsIC1mICIuLzIgdHVubmVsIiA+L2Rldi9udWxsIDI+JjEKc2xlZXAgMQoKaWYgW1sgLW4gIiRBUkdPX0FVVEgiICYmIC1uICIkQVJHT19ET01BSU4iIF1dOyB0aGVuCiAgICBpZiBbWyAiJEFSR09fQVVUSCIgPX4gVHVubmVsU2VjcmV0IF1dOyB0aGVuCiAgICAgICAgLi8yIHR1bm5lbCAtLWVkZ2UtaXAtdmVyc2lvbiBhdXRvIC0tY29uZmlnIHR1bm5lbC55bWwgcnVuID4vZGV2L251bGwgMj4mMSAmCiAgICBlbHNlCiAgICAgICAgLi8yIHR1bm5lbCAtLWVkZ2UtaXAtdmVyc2lvbiBhdXRvIC0tbm8tYXV0b3VwZGF0ZSAtLXByb3RvY29sIGh0dHAyIHJ1biAtLXRva2VuICIkQVJHT19BVVRIIiA+L2Rldi9udWxsIDI+JjEgJgogICAgZmkKZWxzZQogICAgcm0gLWYgYm9vdC5sb2cKICAgIC4vMiB0dW5uZWwgLS1lZGdlLWlwLXZlcnNpb24gYXV0byAtLW5vLWF1dG91cGRhdGUgLS1wcm90b2NvbCBodHRwMiAtLWxvZ2ZpbGUgYm9vdC5sb2cgLS1sb2dsZXZlbCBpbmZvIC0tdXJsIGh0dHA6Ly9sb2NhbGhvc3Q6JEFSR09fUE9SVCA+L2Rldi9udWxsIDI+JjEgJgpmaQpzbGVlcCAyCgppZiAhIHBncmVwIC1mICIuLzIgdHVubmVsIiA+L2Rldi9udWxsOyB0aGVuCiAgICBpZiBbIC1mICJib290LmxvZyIgXTsgdGhlbgogICAgICAgIGNhdCBib290LmxvZwogICAgZmkKICAgIGV4aXQgMQpmaQoKZ2V0X2FyZ29kb21haW4oKSB7CiAgICBpZiBbWyAtbiAiJEFSR09fRE9NQUlOIiBdXTsgdGhlbgogICAgICAgIGVjaG8gIiRBUkdPX0RPTUFJTiIKICAgIGVsc2UKICAgICAgICBsb2NhbCByZXRyeT0wCiAgICAgICAgbG9jYWwgbWF4X3JldHJpZXM9MTAKICAgICAgICBsb2NhbCBkb21haW49IiIKICAgICAgICB3aGlsZSBbWyAkcmV0cnkgLWx0ICRtYXhfcmV0cmllcyBdXTsgZG8KICAgICAgICAgICAgKChyZXRyeSsrKSkKICAgICAgICAgICAgZG9tYWluPSQoc2VkIC1uICdzfC4qaHR0cHM6Ly9cKFteL10qdHJ5Y2xvdWRmbGFyZVwuY29tXCkuKnxcMXxwJyBib290LmxvZyAyPi9kZXYvbnVsbCkKICAgICAgICAgICAgaWYgW1sgLW4gIiRkb21haW4iIF1dOyB0aGVuCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBmaQogICAgICAgICAgICBzbGVlcCAyCiAgICAgICAgZG9uZQogICAgICAgIGlmIFtbIC16ICIkZG9tYWluIiBdXTsgdGhlbgogICAgICAgICAgICBkb21haW49InVua25vd24udHJ5Y2xvdWRmbGFyZS5jb20iCiAgICAgICAgZmkKICAgICAgICBlY2hvICIkZG9tYWluIgogICAgZmkKfQoKYXJnb2RvbWFpbj0kKGdldF9hcmdvZG9tYWluKQoKVk1FU1M9InsgXCJ2XCI6IFwiMlwiLCBcInBzXCI6IFwiJHtOQU1FfVwiLCBcImFkZFwiOiBcIiR7Q0ZJUH1cIiwgXCJwb3J0XCI6IFwiJHtDRlBPUlR9XCIsIFwiaWRcIjogXCIke1VVSUR9XCIsIFwiYWlkXCI6IFwiMFwiLCBcInNjeVwiOiBcIm5vbmVcIiwgXCJuZXRcIjogXCJ3c1wiLCBcInR5cGVcIjogXCJub25lXCIsIFwiaG9zdFwiOiBcIiR7YXJnb2RvbWFpbn1cIiwgXCJwYXRoXCI6IFwiL2tpbmc/ZWQ9MjA0OFwiLCBcInRsc1wiOiBcInRsc1wiLCBcInNuaVwiOiBcIiR7YXJnb2RvbWFpbn1cIiwgXCJhbHBuXCI6IFwiXCIsIFwiZnBcIjogXCJcIn0iCgplY2hvICJ2bWVzczovLyQoZWNobyAiJFZNRVNTIiB8IGJhc2U2NCAtdzApIiA+IGJvb3QubG9nCgplY2hvICJoZWxsbyIKCnRyYXAgJ3BraWxsIC1mICIuLzEgcnVuIjsgcGtpbGwgLWYgIi4vMiB0dW5uZWwiOyBleGl0IDAnIElOVAp3YWl0' | base64 -d)
